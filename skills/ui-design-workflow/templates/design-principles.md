# UI 设计基本原则

**适用阶段**：Demo 阶段（规范尚未形成时）

在产出 UI Demo 时，规范文档尚未存在。此时应遵循通用的 UI 设计原则，确保设计质量和可维护性。

---

## 1. 视觉层次清晰 (Visual Hierarchy)

### 原则
信息应该有明显的层级区分，引导用户的注意力。

### 实践方法

**字号层级**：
- 使用至少 3 个层级的字号：标题、正文、辅助信息
- 层级之间的差距要明显（建议比例 1.5-2 倍）
- 例如：H1: 32px, H2: 24px, Body: 16px, Small: 12px

**字重层级**：
- 标题使用较粗字重（Semibold 600, Bold 700）
- 正文使用中等字重（Regular 400, Medium 500）
- 辅助信息使用细字重或降低颜色对比度

**颜色对比**：
- 主要内容：高对比度（如黑色文字 #000000）
- 次要内容：中等对比度（如深灰 #333333 或 #555555）
- 辅助信息：低对比度（如浅灰 #999999 或 #AAAAAA）

**间距层级**：
- 相关元素间距小（4-8px）
- 组件内间距中等（12-16px）
- 模块间间距大（24-48px）

---

## 2. 组件化思维 (Component-Based Design)

### 原则
识别和设计可复用的 UI 模式，避免重复劳动。

### 核心组件清单

**基础组件**：
- Button（按钮）
- Input（输入框）
- Checkbox / Radio / Switch（选择器）
- Select / Dropdown（下拉菜单）

**反馈组件**：
- Toast（轻提示）
- Alert（警告提示）
- Modal（模态框）
- Tooltip（工具提示）

**布局组件**：
- Card（卡片）
- Container（容器）
- Divider（分割线）

### 实践方法

1. **统一组件风格**：
   - 所有按钮使用相同的圆角、padding、字体
   - 所有卡片使用相同的阴影、圆角、背景

2. **定义组件变体**：
   - 按钮：Primary, Secondary, Ghost, Outline
   - 尺寸：Small, Medium, Large
   - 状态：Normal, Hover, Active, Disabled

3. **保持一致性**：
   - 同类组件的相同状态应该视觉效果一致
   - 例如：所有组件的 Hover 状态都应有相同的过渡效果

---

## 3. 一致性 (Consistency)

### 原则
整个设计系统应该有统一的视觉语言。

### 主题系统设计（重要架构决策）

在开始设计之前，必须先确定主题策略：

**选项 1：单一主题（明亮或深色）**
- 优点：简单，开发成本低，设计一致性容易保证
- 缺点：无法满足用户对不同环境的需求
- 适合：功能明确、用户场景单一的工具型产品

**选项 2：明暗双主题切换（推荐）**
- 优点：满足不同用户偏好，现代应用标配
- 缺点：需要维护两套颜色，设计和测试工作量加倍
- 适合：大多数面向大众用户的产品
- 实现方式：
  ```css
  /* 使用 CSS 变量 */
  :root {
    --color-bg: #FFFFFF;
    --color-text: #000000;
  }

  [data-theme="dark"] {
    --color-bg: #000000;
    --color-text: #FFFFFF;
  }
  ```

**选项 3：多主题系统**
- 优点：高度定制化，品牌差异化
- 缺点：设计和维护成本最高
- 适合：需要白标（White Label）或多品牌的产品

**主题切换的注意事项**：
- 不仅仅是"反色"：深色模式需要重新设计对比度、阴影、透明度
- 图片和插图：可能需要两套资源
- 测试工作量：所有组件都需要在两个主题下测试

### 颜色一致性

**限制颜色数量**：
- 主色：1-2 种（Primary, Secondary）
- 中性色：灰度系统（5-7 个层级）
- 功能色：Success, Error, Warning, Info（各 1 种）
- 总计不超过 15 种颜色
- **如果支持多主题**：每个主题都需要定义这些颜色

**建立灰度系统**：
```
极浅灰（背景）: #F9F9F9, #F5F5F5
浅灰（分割线）: #E5E5E5, #DDDDDD
中灰（辅助文本）: #999999, #888888
深灰（次要文本）: #666666, #555555
极深灰（主要文本）: #333333, #222222
纯黑（标题）: #000000
```

### 间距一致性

**使用栅格系统**：
- 4px 栅格：所有间距都是 4 的倍数（4, 8, 12, 16, 20, 24, 32, 48, 64...）
- 或 8px 栅格：所有间距都是 8 的倍数（8, 16, 24, 32, 40, 48, 64...）

**定义间距语义**：
```
XS: 4px  - 图标与文字间距
S:  8px  - 小组件内间距
M:  16px - 标准组件内间距
L:  24px - 卡片内间距
XL: 32px - 模块间间距
XXL: 48px - 大模块间间距
```

### 圆角一致性

**统一圆角规范**：
```
小圆角: 4px  - Badge, Tag
中圆角: 8px  - Button, Input
大圆角: 12px - Card
巨大圆角: 16px-24px - Modal, 大卡片
全圆: 9999px - Pill 按钮
```

---

## 4. 响应式设计 (Responsive Design)

### 原则
在不同设备和屏幕尺寸上都应该有良好的体验。

### 实践方法

**使用断点**：
```
Mobile: < 768px
Tablet: 768px - 1024px
Desktop: > 1024px
```

**布局适配**：
- Mobile: 单列布局，Stack 垂直排列
- Tablet: 2 列布局
- Desktop: 3-4 列布局

**组件适配**：
- 按钮在移动端应该更大（更容易点击）
- 导航在移动端使用 Drawer（抽屉）或 Bottom Nav
- 表单在移动端应该全宽

**字号适配**：
- 移动端字号可以略小（但不小于 14px）
- 标题在移动端可以使用更小的层级

---

## 5. 可访问性 (Accessibility)

### 原则
设计应该对所有用户友好，包括有障碍的用户。

### 实践方法

**颜色对比度**：
- 正文文字与背景对比度 ≥ 4.5:1
- 大号文字（≥18px）与背景对比度 ≥ 3:1
- 使用在线工具检查：https://webaim.org/resources/contrastchecker/

**焦点状态**：
- 所有交互元素（按钮、链接、输入框）都应该有明显的焦点状态
- 推荐：2-3px 的外轮廓（outline）或 ring

**点击区域**：
- 移动端的点击区域至少 44x44px
- 桌面端的点击区域至少 32x32px
- 图标按钮应该有足够的 padding

**语义化 HTML**：
- 使用正确的 HTML 标签（button, input, nav, header, main）
- 图片添加 alt 属性
- 表单输入添加 label

**键盘导航**：
- 确保所有功能都可以通过键盘操作
- Tab 顺序应该符合逻辑
- Enter 和 Space 应该能触发按钮

---

## 6. 性能优化 (Performance)

### 原则
避免过度设计，保持页面流畅。

### 实践方法

**避免过度阴影**：
- 不要给所有元素都加阴影
- 阴影应该用于突出层级关系
- 使用浅而柔和的阴影，避免生硬的深色阴影

**合理使用动画**：
- 动画时长控制在 150-300ms
- 避免复杂的关键帧动画
- 优先使用 transform 和 opacity（性能好）
- 避免动画 width, height, margin 等（性能差）

**图片优化**：
- 使用合适的图片格式（WebP > JPEG > PNG）
- 响应式图片：不同屏幕加载不同尺寸
- 懒加载非首屏图片

**减少 DOM 复杂度**：
- 避免过深的嵌套
- 复用组件而不是重复创建

---

## 7. 交互反馈 (Interactive Feedback)

### 原则
用户的操作应该有即时、明确的反馈。

### 实践方法

**Hover 状态**（桌面端）：
- 改变颜色（变深或变亮）
- 轻微放大或上浮（transform: scale(1.05) 或 translateY(-2px)）
- 改变阴影（增强或扩散）
- 添加过渡效果（transition: all 0.2s）

**Active 状态**（点击时）：
- 轻微缩小（transform: scale(0.95)）
- 或轻微下沉（translateY(1px)）
- 降低亮度

**Disabled 状态**：
- 降低透明度（opacity: 0.5）
- 或使用浅灰色
- 鼠标 cursor: not-allowed

**Loading 状态**：
- 显示 Spinner 或骨架屏
- 禁用交互（防止重复提交）
- 提供进度指示（如果知道进度）

**成功/错误反馈**：
- 使用 Toast 轻提示
- 或在表单下方显示提示信息
- 使用合适的颜色（绿色表示成功，红色表示错误）

---

## 8. 留白和呼吸感 (Whitespace)

### 原则
不要害怕留白，适当的空间让设计更清晰。

### 实践方法

**组件内留白**：
- 按钮内边距：水平 16-24px，垂直 8-12px
- 卡片内边距：24-32px
- 输入框内边距：水平 12-16px，垂直 8-12px

**组件间留白**：
- 同组元素：8-12px
- 不同组元素：24-32px
- 页面模块：48-64px

**不要过度拥挤**：
- 宁可多留白，不要挤在一起
- 内容密集的页面可以用卡片分组
- 使用分割线划分区域

---

## 9. 渐进增强 (Progressive Enhancement)

### 原则
核心功能在任何环境下都应该可用，高级功能作为增强。

### 实践方法

**基础版本**：
- 不依赖 JavaScript 的基本功能
- 简单的 CSS 样式
- 纯 HTML 表单

**增强版本**：
- JavaScript 交互（如实时验证）
- CSS 动画和过渡
- 高级 UI 组件

**优雅降级**：
- 旧浏览器显示简化版本
- 不支持的特性有 fallback
- 功能缺失不应该导致崩溃

---

## 10. 文案和微交互 (Copy & Microinteractions)

### 原则
文字和细节决定了用户体验的质量。

### 文案原则

**清晰简洁**：
- 按钮文案动词开头："保存"、"删除"、"取消"
- 避免模糊："确定"（确定什么？）
- 错误提示说明原因和解决方案

**友好礼貌**：
- 错误提示不要责怪用户
- 使用积极的语言
- 例如：❌ "你输入的密码太短" → ✅ "密码至少需要 8 个字符"

### 微交互

**细节决定质量**：
- 按钮点击有轻微弹跳
- Modal 打开有淡入 + 缩放动画
- Toast 从侧边滑入
- 输入框聚焦时有呼吸效果（ring 动画）

---

## 总结

这些原则是通用的 UI 设计最佳实践，在 Demo 阶段（规范尚未形成）应该遵循。

当 Demo 确定后，通过 `spec` 模式将这些原则具体化为项目的 UI 设计规范文档，形成项目特定的约束和标准。

**记住**：好的设计是 80% 的基本原则 + 20% 的创意和个性。先打好基础，再追求独特性。
