# 模式详细说明

各命令的详细执行流程和输出格式。

---

## demo 模式

### 两种入口

**流程 A: 从零开始**
- 用户没有现有规范
- 需要与用户确认风格偏好
- 生成完整的 UI 展示页面

**流程 B: 基于现有规范**
- 用户有现有规范文档
- 读取规范，生成对应的 Demo
- 标注规范中缺失的组件

### 与用户确认的问题

1. **主题模式**：单一主题 / 明暗切换 / 多主题？
2. **风格偏好**：简约 / 科技感 / 温暖 / 专业？
3. **圆角偏好**：方正 / 圆润 / 完全圆角？

### 输出完成提示

```
✅ UI 展示页面已生成：[文件路径]

包含内容：
📱 Tab 1: 成品展示（官网 Demo）
- Hero, Features, Use Cases, CTA, Footer

🎨 Tab 2: 组件库
- 颜色系统、排版、按钮、表单、反馈组件等

预览：启动开发服务器后访问 /ui-showcase

可以继续调整配色、圆角、间距等。
满意后使用 /ui-design-workflow spec 生成规范文档。
```

---

## spec 模式

### 输入

已确认的 Demo 代码

### 输出

1. **规范文档**：`doc/UI设计规范.md`
2. **项目集成**：更新 CLAUDE.md

### 规范文档结构

```markdown
# [项目名称] UI 设计规范

## 1. 设计原则
- 整体风格描述

## 2. 颜色系统
- 主色调
- 文本颜色
- 功能色

## 3. 排版系统
- 字体
- 字号层级

## 4. 组件规范
- 按钮
- 输入框
- 卡片
- ...

## 5. 间距和布局
- 间距规律
- 响应式断点
```

### CLAUDE.md 更新

添加以下内容：
```markdown
## UI 设计规范

本项目遵循 `doc/UI设计规范.md` 中定义的设计规范。

开发 UI 相关功能时，必须：
1. 先阅读 UI 设计规范
2. 使用规范中定义的颜色、间距、组件样式
3. 新组件风格需与现有规范保持一致
```

---

## implement 模式

### 关键流程

```
1. 检查项目是否有 UI 规范
   ↓
2. 如有，先读取规范文档
   ↓
3. 按规范实现用户请求的功能
   ↓
4. 确保样式符合规范
```

### 必须遵守

- **先读规范，再写代码**
- 使用规范中定义的颜色变量
- 使用规范中定义的圆角、间距
- 新组件参考规范中类似组件的风格

---

## check 模式

### 输入

文件路径或目录

### 检查项

1. 颜色是否使用规范定义的值
2. 间距是否符合规范
3. 组件样式是否一致
4. 是否有未定义的组件

### 输出格式

```markdown
## UI 规范检查报告

检查范围：[路径]
检查时间：[时间]

### 违规项（共 N 项）

#### 颜色违规
- `src/components/Button.tsx:15` 使用 `#333` 应改为 `zinc-900`

#### 间距违规
- `src/pages/Home.tsx:42` padding 使用 `13px` 应改为 `12px`（3*4）

### 建议
1. 统一替换硬编码颜色值
2. 检查间距是否为 4px 倍数

### 总结
- 检查文件数：X
- 违规项数：Y
- 严重程度：低/中/高
```

---

## iterate 模式

### 触发场景

- 发现规范缺失某组件
- 需要新增组件类型
- 需要调整现有规范

### 流程

```
1. 确认要补充/修改的内容
   ↓
2. 更新规范文档
   ↓
3. 更新 Demo 展示页面（如需要）
   ↓
4. 同步更新相关实现代码（如需要）
```

### 输出

```
✅ 规范已更新

更新内容：
- [新增/修改] 组件名：具体内容

已同步更新：
- doc/UI设计规范.md
- app/ui-showcase/page.tsx（如适用）
```
